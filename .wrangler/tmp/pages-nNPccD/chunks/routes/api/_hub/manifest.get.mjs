import{e as a,u as s,h as r}from"../../../runtime.mjs";import{h as e}from"../../../_/database.mjs";import{h as t}from"../../../_/blob.mjs";import{r as o}from"../../../_/auth.mjs";import"../../../virtual/_commonjsHelpers.mjs";import"../../../_/index.mjs";const i=a((async a=>{await o(a);const{version:i,cache:c,analytics:l,blob:m,kv:n,database:f}=s().hub,[_,b,h]=await Promise.all([falseIfFail((()=>f&&e().exec("PRAGMA table_list"))),falseIfFail((()=>n&&r().getKeys("__check__"))),falseIfFail((()=>m&&t().list({prefix:"__check__"})))]);return{version:i,storage:{database:Boolean(_),kv:Array.isArray(b),blob:Array.isArray(h?.blobs)},features:{analytics:l,cache:c}}}));async function falseIfFail(a){try{const s=a();return s instanceof Promise?s.catch((()=>!1)):s}catch(a){return!1}}export{i as default};
//# sourceMappingURL=manifest.get.mjs.map
